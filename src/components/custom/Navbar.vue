<script setup>
  import { ref, watch } from "vue";
  import { X } from "lucide-vue-next";
  import NavButtonsGroup from "../common/NavButtonsGroup.vue";
  import { RouterLink, useRoute } from "vue-router";

  const isNavMenuOpen = ref(false);

  const route = useRoute();

  console.log(isNavMenuOpen.value);
</script>

<template>
  <main class="bg-white/90 sticky -top-2 z-50 md:py-3">
    <div class="baseContainer flex justify-between items-center gap-4">
      <div className="absolute inset-0 bg-white/40 backdrop-blur-sm -z-10" />

      <!-- logo -->
      <RouterLink to="/">
        <svg
          width="176"
          height="51"
          viewBox="0 0 176 51"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          class="max-sm:w-16 max-md:h-5 max-md:w-25"
        >
          <path
            d="M0 35.1526V6.76553H17.0067C26.9768 8.54768 30.9237 16.4419 31.8324 18.2595L31.8395 18.2738C32.7346 20.064 35.4199 21.0616 35.4199 21.0616C35.4199 21.0616 35.5257 21.3276 40.9183 21.982C40.9183 21.982 54.856 21.982 54.856 33.746C54.856 45.51 40.9183 45.3821 40.9183 45.3821C40.9183 45.3821 35.7891 45.6017 32.7346 44.6149C30.949 44.0381 30.0469 43.3161 28.387 42.569L32.7346 37.71C35.4774 38.6437 37.2271 38.941 40.9183 38.8608C40.9183 38.8608 47.9511 38.4772 47.9511 33.746C47.9511 29.0148 40.9183 28.1197 40.9183 28.1197L33.6297 27.0968C30.1971 26.1105 28.6114 25.276 26.7247 22.8771C24.1098 16.7048 22.0972 14.4416 17.0067 13.6705H6.90496V30.6771L0 35.1526Z"
            fill="#42389E"
          />
          <path
            d="M0 44.6149L6.90496 37.71H17.0067C23.2551 36.2334 25.5023 33.8421 26.7247 26.0738C29.2592 27.9327 30.7485 28.6686 33.6297 29.0148C30.7915 39.4615 27.1515 42.8767 17.0067 44.6149H0Z"
            fill="#42389E"
          />
          <path
            d="M28.8985 9.32292L32.9903 14.182C32.9903 14.182 34.3969 12.3917 39.5117 12.1361C44.6265 11.8804 48.3347 16.2279 48.3347 16.2279L53.5773 13.159C53.5773 13.159 48.3347 5.74255 39.5117 6.25405C30.6887 6.76555 28.8985 9.32292 28.8985 9.32292Z"
            fill="#42389E"
          />
          <circle cx="40.534" cy="24.8068" r="21.9559" fill="#FDFDFF" />
          <path
            d="M49.503 8.90283C46.5826 7.32682 43.2962 6.55428 39.9796 6.66412C36.6629 6.77396 33.4349 7.76225 30.6252 9.52803C27.8155 11.2938 25.525 13.7738 23.9875 16.7146C22.45 19.6554 21.7207 22.9516 21.8741 26.2666C22.0276 29.5815 23.0582 32.7963 24.8607 35.5825C26.6633 38.3687 29.1732 40.6265 32.1339 42.1252C35.0947 43.6239 38.4002 44.3098 41.7128 44.1128C45.0255 43.9158 48.2264 42.843 50.9887 41.004L46.6427 34.4761C45.036 35.5458 43.1741 36.1698 41.2473 36.2844C39.3205 36.3989 37.3978 36 35.6757 35.1283C33.9535 34.2565 32.4937 32.9433 31.4452 31.3226C30.3967 29.702 29.7973 27.8321 29.708 25.904C29.6188 23.9758 30.043 22.0586 30.9373 20.348C31.8316 18.6375 33.1639 17.195 34.7981 16.1679C36.4324 15.1408 38.31 14.566 40.2392 14.5021C42.1683 14.4382 44.0799 14.8876 45.7785 15.8043L49.503 8.90283Z"
            fill="#42389E"
          />
          <path
            d="M56.5958 31.8999V18.5259C56.7278 18.5259 56.8568 18.5259 56.9828 18.5259C57.1148 18.5259 57.2438 18.5259 57.3698 18.5259C57.4958 18.5259 57.6218 18.5259 57.7478 18.5259C57.9998 18.5259 58.3178 18.5139 58.7018 18.4899C59.0858 18.4659 59.4968 18.4419 59.9348 18.4179C60.3728 18.3939 60.7958 18.3819 61.2038 18.3819C63.4298 18.3819 65.0678 18.9489 66.1178 20.0829C67.1678 21.2169 67.6928 22.8069 67.6928 24.8529C67.6928 26.3769 67.4258 27.6789 66.8918 28.7589C66.3578 29.8329 65.5898 30.6519 64.5878 31.2159C63.5918 31.7799 62.3948 32.0559 60.9968 32.0439C60.4208 32.0319 59.8418 32.0049 59.2598 31.9629C58.6778 31.9209 58.1378 31.8999 57.6398 31.8999C57.5258 31.8999 57.4088 31.8999 57.2888 31.8999C57.1748 31.8999 57.0578 31.8999 56.9378 31.8999C56.8238 31.8999 56.7098 31.8999 56.5958 31.8999ZM59.4218 29.8029C59.6498 29.8629 59.9288 29.9049 60.2588 29.9289C60.5888 29.9529 60.9158 29.9619 61.2398 29.9559C61.9418 29.9499 62.5568 29.7789 63.0848 29.4429C63.6128 29.1069 64.0238 28.5879 64.3178 27.8859C64.6178 27.1779 64.7678 26.2659 64.7678 25.1499C64.7678 23.9859 64.6268 23.0589 64.3448 22.3689C64.0628 21.6789 63.6398 21.1839 63.0758 20.8839C62.5118 20.5779 61.8038 20.4249 60.9518 20.4249C60.6758 20.4249 60.3968 20.4369 60.1148 20.4609C59.8328 20.4849 59.6018 20.5149 59.4218 20.5509V29.8029ZM71.008 31.8999H68.047L72.889 18.4089H75.931L80.764 31.8999H77.758L74.797 22.4319L74.383 20.8839L73.96 22.4319L71.008 31.8999ZM70.792 29.0649L71.161 27.0579H77.299L77.668 29.0649H70.792ZM85.0417 31.8999H82.2247V18.5259C82.3447 18.5259 82.4617 18.5259 82.5757 18.5259C82.6957 18.5259 82.8127 18.5259 82.9267 18.5259C83.0467 18.5259 83.1667 18.5259 83.2867 18.5259C83.7427 18.5259 84.2737 18.5019 84.8797 18.4539C85.4857 18.4059 86.2117 18.3819 87.0577 18.3819C87.6817 18.3819 88.2817 18.4509 88.8577 18.5889C89.4337 18.7209 89.9467 18.9429 90.3967 19.2549C90.8527 19.5609 91.2127 19.9749 91.4767 20.4969C91.7407 21.0189 91.8727 21.6669 91.8727 22.4409C91.8727 23.3109 91.7287 24.0339 91.4407 24.6099C91.1527 25.1799 90.7477 25.6269 90.2257 25.9509C89.7097 26.2689 89.1037 26.4819 88.4077 26.5899C88.1677 26.6259 87.9247 26.6619 87.6787 26.6979C87.4327 26.7279 87.1087 26.7549 86.7067 26.7789C86.3047 26.7969 85.7497 26.8059 85.0417 26.8059V31.8999ZM85.0417 24.8259C85.1677 24.8439 85.3447 24.8589 85.5727 24.8709C85.8007 24.8829 86.0317 24.8889 86.2657 24.8889C86.5057 24.8889 86.6977 24.8889 86.8417 24.8889C87.6037 24.8889 88.1737 24.6759 88.5517 24.2499C88.9357 23.8179 89.1277 23.2389 89.1277 22.5129C89.1277 22.1049 89.0557 21.7419 88.9117 21.4239C88.7737 21.0999 88.5277 20.8479 88.1737 20.6679C87.8197 20.4819 87.3247 20.3889 86.6887 20.3889C86.4067 20.3889 86.1217 20.4039 85.8337 20.4339C85.5457 20.4579 85.2817 20.4969 85.0417 20.5509V24.8259ZM89.6677 31.8999C89.5897 31.7979 89.5207 31.6839 89.4607 31.5579C89.4067 31.4259 89.3137 31.2159 89.1817 30.9279C88.9957 30.5259 88.8217 30.0909 88.6597 29.6229C88.5037 29.1549 88.3387 28.7079 88.1647 28.2819C87.9907 27.8559 87.7897 27.5019 87.5617 27.2199C87.3337 26.9379 87.0577 26.7849 86.7337 26.7609L87.5257 26.1399L89.2807 26.0229C89.6227 26.1729 89.9227 26.4309 90.1807 26.7969C90.4447 27.1569 90.6847 27.5739 90.9007 28.0479C91.1227 28.5219 91.3387 29.0109 91.5487 29.5149C91.7647 30.0189 91.9957 30.4869 92.2417 30.9189C92.3317 31.0869 92.4217 31.2519 92.5117 31.4139C92.6077 31.5759 92.7007 31.7379 92.7907 31.8999H89.6677ZM97.1231 31.8999V20.6859H93.3161V18.5259H103.765V20.6859H99.9581V31.8999H97.1231ZM104.91 25.2489C104.91 24.1269 105.081 23.1399 105.423 22.2879C105.765 21.4299 106.239 20.7129 106.845 20.1369C107.451 19.5549 108.15 19.1169 108.942 18.8229C109.74 18.5289 110.592 18.3819 111.498 18.3819C112.14 18.3819 112.677 18.4179 113.109 18.4899C113.547 18.5559 113.913 18.6309 114.207 18.7149C114.507 18.7929 114.774 18.8559 115.008 18.9039L114.63 21.3519C114.516 21.2799 114.342 21.1869 114.108 21.0729C113.88 20.9529 113.568 20.8479 113.172 20.7579C112.782 20.6619 112.293 20.6139 111.705 20.6139C110.943 20.6139 110.268 20.7909 109.68 21.1449C109.092 21.4989 108.63 22.0089 108.294 22.6749C107.958 23.3409 107.79 24.1449 107.79 25.0869C107.79 26.0289 107.943 26.8569 108.249 27.5709C108.561 28.2849 109.017 28.8459 109.617 29.2539C110.217 29.6559 110.949 29.8569 111.813 29.8569C112.215 29.8569 112.623 29.8119 113.037 29.7219C113.451 29.6319 113.82 29.5239 114.144 29.3979C114.468 29.2659 114.708 29.1369 114.864 29.0109V31.3419C114.624 31.4379 114.348 31.5399 114.036 31.6479C113.724 31.7559 113.364 31.8489 112.956 31.9269C112.554 32.0049 112.086 32.0439 111.552 32.0439C110.16 32.0439 108.969 31.7649 107.979 31.2069C106.989 30.6429 106.23 29.8509 105.702 28.8309C105.174 27.8109 104.91 26.6169 104.91 25.2489ZM122.579 32.0439C121.295 32.0679 120.191 31.7949 119.267 31.2249C118.343 30.6489 117.641 29.8389 117.161 28.7949C116.681 27.7449 116.453 26.5239 116.477 25.1319C116.507 23.5899 116.801 22.3269 117.359 21.3429C117.917 20.3529 118.67 19.6179 119.618 19.1379C120.566 18.6579 121.64 18.4059 122.84 18.3819C124.07 18.3579 125.132 18.6249 126.026 19.1829C126.926 19.7349 127.613 20.5269 128.087 21.5589C128.567 22.5849 128.792 23.7969 128.762 25.1949C128.732 26.7369 128.45 28.0119 127.916 29.0199C127.382 30.0219 126.656 30.7719 125.738 31.2699C124.82 31.7619 123.767 32.0199 122.579 32.0439ZM122.633 29.9739C123.635 29.9739 124.43 29.5809 125.018 28.7949C125.606 28.0089 125.9 26.7789 125.9 25.1049C125.9 24.2289 125.783 23.4429 125.549 22.7469C125.321 22.0509 124.976 21.5019 124.514 21.0999C124.052 20.6919 123.473 20.4879 122.777 20.4879C122.153 20.4879 121.58 20.6439 121.058 20.9559C120.542 21.2679 120.128 21.7719 119.816 22.4679C119.504 23.1639 119.348 24.0879 119.348 25.2399C119.348 26.1219 119.471 26.9199 119.717 27.6339C119.963 28.3479 120.329 28.9179 120.815 29.3439C121.301 29.7639 121.907 29.9739 122.633 29.9739ZM131.057 31.8999V18.5259C131.189 18.5259 131.318 18.5259 131.444 18.5259C131.576 18.5259 131.705 18.5259 131.831 18.5259C131.957 18.5259 132.083 18.5259 132.209 18.5259C132.461 18.5259 132.779 18.5139 133.163 18.4899C133.547 18.4659 133.958 18.4419 134.396 18.4179C134.834 18.3939 135.257 18.3819 135.665 18.3819C137.891 18.3819 139.529 18.9489 140.579 20.0829C141.629 21.2169 142.154 22.8069 142.154 24.8529C142.154 26.3769 141.887 27.6789 141.353 28.7589C140.819 29.8329 140.051 30.6519 139.049 31.2159C138.053 31.7799 136.856 32.0559 135.458 32.0439C134.882 32.0319 134.303 32.0049 133.721 31.9629C133.139 31.9209 132.599 31.8999 132.101 31.8999C131.987 31.8999 131.87 31.8999 131.75 31.8999C131.636 31.8999 131.519 31.8999 131.399 31.8999C131.285 31.8999 131.171 31.8999 131.057 31.8999ZM133.883 29.8029C134.111 29.8629 134.39 29.9049 134.72 29.9289C135.05 29.9529 135.377 29.9619 135.701 29.9559C136.403 29.9499 137.018 29.7789 137.546 29.4429C138.074 29.1069 138.485 28.5879 138.779 27.8859C139.079 27.1779 139.229 26.2659 139.229 25.1499C139.229 23.9859 139.088 23.0589 138.806 22.3689C138.524 21.6789 138.101 21.1839 137.537 20.8839C136.973 20.5779 136.265 20.4249 135.413 20.4249C135.137 20.4249 134.858 20.4369 134.576 20.4609C134.294 20.4849 134.063 20.5149 133.883 20.5509V29.8029ZM144.399 31.8999V18.5259H152.562V20.6499H147.207V24.0069H151.266V26.0859H147.207V29.7309H153.129V31.8999H144.399ZM159.936 31.8999H156.975L161.817 18.4089H164.859L169.692 31.8999H166.686L163.725 22.4319L163.311 20.8839L162.888 22.4319L159.936 31.8999ZM159.72 29.0649L160.089 27.0579H166.227L166.596 29.0649H159.72ZM171.35 31.8999V18.5259H174.194V31.8999H171.35Z"
            fill="#42389E"
          />
        </svg>
      </RouterLink>

      <!-- navigation list for pages TODO✅:Add routing -->
      <div
        class="hidden lg:flex justify-center items-center text-[1rem] lg:text-lg"
      >
        <RouterLink
          to="/"
          :class="`transition-all duration-300 p-4 ${
            route.path == '/'
              ? 'font-bold text-[var(--primary-color)]'
              : 'hover:text-[var(--primary-color)] hover:font-medium'
          }`"
          >Home</RouterLink
        >
        <RouterLink
          to="/about"
          :class="`transition-all duration-300 p-4 ${
            route.path == '/about'
              ? 'font-bold text-[var(--primary-color)]'
              : 'hover:text-[var(--primary-color)] hover:font-medium'
          }`"
          >About</RouterLink
        >
        <RouterLink
          to="/pricing"
          :class="`transition-all duration-300 p-4 ${
            route.path == '/pricing'
              ? 'font-bold text-[var(--primary-color)]'
              : 'hover:text-[var(--primary-color)] hover:font-medium'
          }`"
          >Pricing</RouterLink
        >
      </div>

      <!-- here is login and signup buttons -->
      <NavButtonsGroup />

      <!-- menu bar for mobile and tablet TODO✅:Add Mobile And tab popup -->
      <div class="cursor-pointer lg:hidden">
        <div
          :class="[
            `fixed transition-all duration-400 flex flex-col w-full pb-10 h-full pl-5 md:px-10 pt-5 gap-10 bg-white/40 overflow-y-auto lg:hidden left-0 z-40 p-2 md:p-4 ${
              isNavMenuOpen ? ' top-20' : '-top-[1000px]'
            }`,
          ]"
        >
          <div
            className="absolute inset-0 bg-white/40 backdrop-blur-sm -z-10"
          />

          <div
            class="lg:hidden flex flex-col justify-center items-start text-[1rem] *:border-b *:border-gray-300 *:w-full"
          >
            <RouterLink
              to="/"
              :class="`transition-all duration-300 p-4 ${
                route.path == '/'
                  ? 'font-bold text-[var(--primary-color)]'
                  : 'hover:text-[var(--primary-color)] hover:font-medium'
              }`"
              @click="isNavMenuOpen = false"
              >Home</RouterLink
            >
            <RouterLink
              to="/about"
              :class="`transition-all duration-300 p-4 ${
                route.path == '/about'
                  ? 'font-bold text-[var(--primary-color)]'
                  : 'hover:text-[var(--primary-color)] hover:font-medium'
              }`"
              @click="isNavMenuOpen = false"
              >About</RouterLink
            >
            <RouterLink
              to="/pricing"
              :class="`transition-all duration-300 p-4 ${
                route.path == '/pricing'
                  ? 'font-bold text-[var(--primary-color)]'
                  : 'hover:text-[var(--primary-color)] hover:font-medium'
              }`"
              @click="isNavMenuOpen = false"
              >Pricing</RouterLink
            >
          </div>
          <div class="">
            <NavButtonsGroup :is-large-screen="false" />
          </div>
        </div>
        <div class="flex justify-end w-full py-2 pl-2 md:p-4">
          <svg
            width="24"
            height="25"
            viewBox="0 0 24 25"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            v-if="!isNavMenuOpen"
            @click="isNavMenuOpen = true"
            class="transition-all duration-300 size-5 sm:size-8 md:size-10"
          >
            <path
              d="M7 5.5L17 5.5"
              stroke="#42489E"
              stroke-width="1.5"
              stroke-linejoin="round"
            />
            <path
              d="M4 12.5L20 12.5"
              stroke="#42489E"
              stroke-width="1.5"
              stroke-linejoin="round"
            />
            <path
              d="M7 19.5L17 19.5"
              stroke="#42489E"
              stroke-width="1.5"
              stroke-linejoin="round"
            />
          </svg>

          <X
            v-else
            @click="isNavMenuOpen = false"
            class="transition-all duration-300 size-5 sm:size-8 md:size-10 text-[var(--primary-color)]"
          />
        </div>
      </div>
    </div>
  </main>
</template>
